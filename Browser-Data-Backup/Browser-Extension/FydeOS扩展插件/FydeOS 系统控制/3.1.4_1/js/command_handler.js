const STORE_SWITCH="apps-gallery-download-url",DEFAULT_STORE_URL="https://store.fydeos.com/download/%s/fydeos_packaged_app.crx";function commandHandler(e,r,a,s=null){switch(e){case START_ARC_SETTINGS:startApp(arcSettingsID,r);break;case ECHO:replyOK(r,s);break;case FETCH_CHROME_VERSION:const a=getChromeVersion();replyOK(r,{version:a});break;case START_APP:s&&s.appId&&startApp(s.appId,r);break;case APP_LIST:chrome.appManagement.getAppList(e=>replyOK(r,e));break;case APP_LIST_DETAIL:chrome.management.getAll(e=>replyOK(r,e));break;case ARC_POLICY:chrome.appManagement.getArcPolicy(e=>replyOK(r,e));break;case UNINSTALL_APP:s&&s.appId&&chrome.management.uninstall(s.appId,{},()=>{chrome.runtime.lastError?replyErr(r,{uninstalled:!1}):replyOK(r,{uninstalled:!0})});break;case WINDOW_LIST:chrome.nativeWindows.getAll(e=>replyOK(r,list));break;case LOCK_SCREEN:case RESTORE_SCREEN:s&&s.appId?lockByAppId(s.appId,r):replyErr(r,new Error("appId needed"));break;case SET_STORE_URL:s&&s.url&&setSwitch(STORE_SWITCH,s.url,()=>{replyOK(r)});break;case REMOVE_STORE_URL:removeSwitch(STORE_SWITCH);break;case GET_ARC_ENABLED_STATE:chrome.settingsPrivate.getPref(kArcEnabled,e=>{replyOK(r,e)});break;case SET_ARC_ENABLE:chrome.settingsPrivate.setPref(kArcEnabled,!0,kPageId,e=>{replyOK(r,{value:e})});break;case REFRESH_LICENSE:chrome.licenseManagement.refreshLicense();break;default:replyErr(r,new Error("error command"))}}