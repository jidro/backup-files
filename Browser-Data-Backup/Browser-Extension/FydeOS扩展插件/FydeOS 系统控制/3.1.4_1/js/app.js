function startApp(e,t,n=null,r=null){function o(e){replyErr(t,e),r&&r(e)}function a(){replyOK(t),n&&n()}if(!validateAppId(e))return o(new Error("bad appid"));chrome.nativeWindows.getAll(t=>{for(let n of t)if(n.appId===e)return a();chrome.appManagement.getAppList(t=>{let n=null;for(let r of t)if(r.appId===e){n=r;break}return n?(chrome.nativeWindows.create(n.appId),a()):o(new Error("No Such App Installed"))})})}function checkAppStarted(e,t,n=30,r=2){let o=0,a=0;setInterval(function(){chrome.nativeWindows.getAll(n=>{for(let r of n)if(r.appId===e)return clearInterval(o),clearTimeout(a),void t()})},1e3*r),setTimeout(function(){clearInterval(o)},1e3*n)}function closeWindowByAppId(e){chrome.nativeWindows.getAll(t=>{t.forEach(t=>{t.appId===e&&chrome.nativeWindows.remove(t.id)})})}