function asyncGeneratorStep(e,n,o,t,r,a,c){try{var i=e[a](c),s=i.value}catch(e){return void o(e)}i.done?n(s):Promise.resolve(s).then(t,r)}function _asyncToGenerator(e){return function(){var n=this,o=arguments;return new Promise(function(t,r){var a=e.apply(n,o);function c(e){asyncGeneratorStep(a,t,r,c,i,"next",e)}function i(e){asyncGeneratorStep(a,t,r,c,i,"throw",e)}c(void 0)})}}chrome.runtime.onStartup.addListener(()=>{createSystemNotificationListener(),setTimeout(_asyncToGenerator(function*(){yield reportExtensionVersion()}),6e4)}),chrome.runtime.onMessageExternal.addListener((e,n,o)=>{const t=void 0!==n.id?n.id:n.url,r=!n.id&&n.origin?n.origin+"/*":"";let a=!1;return checkWL(t,e.command)?a=!0:r&&checkWL(r,e.command)&&(a=!0),e&&e.command&&a&&(e.params?commandHandler(e.command,o,n,e.params):commandHandler(e.command,o,n)),!0}),chrome.runtime.onConnectExternal.addListener(e=>{e.sender&&e.sender.id&&checkPort(e.sender.id)?(setSwitch(STORE_SWITCH,DEFAULT_STORE_URL),e.onMessage.addListener(n=>{n.command&&checkWL(e.sender.id,n.command)&&commandHandler(n.command,function(o){o&&e.postMessage({id:n.id?n.id:0,data:o})},e.sender,n.params?n.params:null)}),e.onDisconnect.addListener(()=>{removeSwitch(STORE_SWITCH)})):e.disconnect()}),chrome.webNavigation.onCompleted.addListener(e=>{const{tabId:n,url:o}=e;n&&o&&o.includes("community.fydeos.com")&&chrome.tabs.sendMessage(n,{command:"reload_community_page"},()=>{})}),setTimeout(_asyncToGenerator(function*(){yield fydeos.subscription.checkRenew(),setInterval(_asyncToGenerator(function*(){yield fydeos.subscription.checkRenew()}),36e5)}),3e4),setTimeout(_asyncToGenerator(function*(){yield PushNotification.fetch(),setInterval(_asyncToGenerator(function*(){yield PushNotification.fetch()}),72e5)}),9e4),setTimeout(_asyncToGenerator(function*(){yield fydeos.arc.checkUpdate(),setInterval(_asyncToGenerator(function*(){yield fydeos.arc.checkUpdate()}),36e5)}),12e4);